// Ability Definitions for ArenaSim
//
// This file contains all ability data for the game.
// Changes here take effect on restart without recompiling.
//
// Note: MELEE_RANGE (2.5) is used for melee abilities.

(
    abilities: {
        // ============================================================================
        // MAGE ABILITIES
        // ============================================================================

        Frostbolt: (
            name: "Frostbolt",
            cast_time: 1.5,
            range: 40.0,
            mana_cost: 20.0,
            cooldown: 0.0,
            damage_base_min: 10.0,
            damage_base_max: 15.0,
            damage_coefficient: 0.8,
            damage_scales_with: SpellPower,
            applies_aura: Some((
                aura_type: MovementSpeedSlow,
                duration: 5.0,
                magnitude: 0.7,
                // Uses default -1.0 (doesn't break on damage)
            )),
            projectile_speed: Some(35.0),
            projectile_visuals: Some((
                color: (0.4, 0.7, 1.0),
                emissive: (0.6, 0.9, 1.5),
            )),
            spell_school: Frost,
        ),

        FrostNova: (
            name: "Frost Nova",
            cast_time: 0.0,
            range: 10.0,
            mana_cost: 30.0,
            cooldown: 25.0,
            damage_base_min: 5.0,
            damage_base_max: 10.0,
            damage_coefficient: 0.2,
            damage_scales_with: SpellPower,
            applies_aura: Some((
                aura_type: Root,
                duration: 6.0,
                magnitude: 1.0,
                break_on_damage: 35.0,
            )),
            spell_school: Frost,
        ),

        ArcaneIntellect: (
            name: "Arcane Intellect",
            cast_time: 0.0,
            range: 40.0,
            mana_cost: 40.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: MaxManaIncrease,
                duration: 600.0,
                magnitude: 40.0,
            )),
            spell_school: Arcane,
        ),

        IceBarrier: (
            name: "Ice Barrier",
            cast_time: 0.0,
            range: 0.0,
            mana_cost: 30.0,
            cooldown: 30.0,
            applies_aura: Some((
                aura_type: Absorb,
                duration: 60.0,
                magnitude: 60.0,
            )),
            spell_school: Frost,
        ),

        Polymorph: (
            name: "Polymorph",
            cast_time: 1.5,
            range: 30.0,
            mana_cost: 60.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: Polymorph,
                duration: 10.0,
                magnitude: 1.0,
                break_on_damage: 0.0,  // 0 = breaks on ANY damage
            )),
            spell_school: Arcane,
        ),

        // ============================================================================
        // PRIEST ABILITIES
        // ============================================================================

        FlashHeal: (
            name: "Flash Heal",
            cast_time: 1.5,
            range: 40.0,
            mana_cost: 25.0,
            cooldown: 0.0,
            healing_base_min: 15.0,
            healing_base_max: 20.0,
            healing_coefficient: 0.75,
            spell_school: Holy,
        ),

        MindBlast: (
            name: "Mind Blast",
            cast_time: 1.5,
            range: 30.0,
            mana_cost: 25.0,
            cooldown: 8.0,
            damage_base_min: 15.0,
            damage_base_max: 20.0,
            damage_coefficient: 0.6,
            damage_scales_with: SpellPower,
            spell_school: Shadow,
            spawn_impact_effect: true,
        ),

        PowerWordFortitude: (
            name: "Power Word: Fortitude",
            cast_time: 0.0,
            range: 40.0,
            mana_cost: 30.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: MaxHealthIncrease,
                duration: 600.0,
                magnitude: 30.0,
            )),
            spell_school: Holy,
        ),

        PowerWordShield: (
            name: "Power Word: Shield",
            cast_time: 0.0,
            range: 40.0,
            mana_cost: 25.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: Absorb,
                duration: 30.0,
                magnitude: 50.0,
            )),
            spell_school: Holy,
        ),

        // ============================================================================
        // WARRIOR ABILITIES
        // ============================================================================

        HeroicStrike: (
            name: "Heroic Strike",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 15.0,
            cooldown: 0.0,
            spell_school: Physical,
        ),

        Charge: (
            name: "Charge",
            cast_time: 0.0,
            range: 25.0,
            mana_cost: 0.0,
            cooldown: 15.0,
            spell_school: Physical,
            is_charge: true,
        ),

        Rend: (
            name: "Rend",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 10.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: DamageOverTime,
                duration: 15.0,
                magnitude: 8.0,
                tick_interval: 3.0,
            )),
            spell_school: Physical,
        ),

        MortalStrike: (
            name: "Mortal Strike",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 30.0,
            cooldown: 6.0,
            damage_base_min: 15.0,
            damage_base_max: 25.0,
            damage_coefficient: 1.0,
            damage_scales_with: AttackPower,
            applies_aura: Some((
                aura_type: HealingReduction,
                duration: 10.0,
                magnitude: 0.65,
            )),
            spell_school: Physical,
        ),

        Pummel: (
            name: "Pummel",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 10.0,
            cooldown: 12.0,
            spell_school: Physical,
            is_interrupt: true,
            lockout_duration: 4.0,
        ),

        BattleShout: (
            name: "Battle Shout",
            cast_time: 0.0,
            range: 0.0,
            mana_cost: 0.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: AttackPowerIncrease,
                duration: 120.0,
                magnitude: 20.0,
            )),
            spell_school: None,
        ),

        // ============================================================================
        // ROGUE ABILITIES
        // ============================================================================

        Ambush: (
            name: "Ambush",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 60.0,
            cooldown: 0.0,
            damage_base_min: 10.0,
            damage_base_max: 15.0,
            damage_coefficient: 1.2,
            damage_scales_with: AttackPower,
            spell_school: Physical,
            requires_stealth: true,
        ),

        SinisterStrike: (
            name: "Sinister Strike",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 40.0,
            cooldown: 0.0,
            damage_base_min: 5.0,
            damage_base_max: 10.0,
            damage_coefficient: 0.5,
            damage_scales_with: AttackPower,
            spell_school: Physical,
        ),

        KidneyShot: (
            name: "Kidney Shot",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 60.0,
            cooldown: 30.0,
            applies_aura: Some((
                aura_type: Stun,
                duration: 6.0,
                magnitude: 1.0,
            )),
            spell_school: Physical,
        ),

        Kick: (
            name: "Kick",
            cast_time: 0.0,
            range: 2.5,
            mana_cost: 25.0,
            cooldown: 12.0,
            spell_school: Physical,
            is_interrupt: true,
            lockout_duration: 4.0,
        ),

        // ============================================================================
        // WARLOCK ABILITIES
        // ============================================================================

        Corruption: (
            name: "Corruption",
            cast_time: 0.0,
            range: 30.0,
            mana_cost: 25.0,
            cooldown: 0.0,
            applies_aura: Some((
                aura_type: DamageOverTime,
                duration: 18.0,
                magnitude: 10.0,
                tick_interval: 3.0,
            )),
            spell_school: Shadow,
        ),

        Shadowbolt: (
            name: "Shadowbolt",
            cast_time: 2.0,
            range: 30.0,
            mana_cost: 25.0,
            cooldown: 0.0,
            damage_base_min: 12.0,
            damage_base_max: 18.0,
            damage_coefficient: 0.85,
            damage_scales_with: SpellPower,
            projectile_speed: Some(35.0),
            projectile_visuals: Some((
                color: (0.6, 0.3, 0.8),
                emissive: (0.8, 0.4, 1.2),
            )),
            spell_school: Shadow,
        ),

        Fear: (
            name: "Fear",
            cast_time: 1.5,
            range: 30.0,
            mana_cost: 30.0,
            cooldown: 30.0,
            applies_aura: Some((
                aura_type: Fear,
                duration: 8.0,
                magnitude: 0.0,
                // More realistic threshold - breaks after ~100 damage (2 Frostbolts)
                // rather than instantly on any DoT tick
                break_on_damage: 100.0,
            )),
            spell_school: Shadow,
        ),
    }
)
